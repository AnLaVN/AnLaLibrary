//                       _oo0oo_
//                      o8888888o
//                      88" . "88
//                      (| -_- |)
//                      0\  =  /0
//                    ___/`---'\___
//                  .' \\|     |// '.
//                 / \\|||  :  |||// \
//                / _||||| -:- |||||- \
//               |   | \\\  -  /// |   |
//               | \_|  ''\---/''  |_/ |
//               \  .-\__  '-'  ___/-. /
//             ___'. .'  /--.--\  `. .'___
//          ."" '<  `.___\_<|>_/___.' >' "".
//         | | :  `- \`.;`\ _ /`;.`/ - ` : | |
//         \  \ `_.   \_ __\ /__ _/   .-` /  /
//     =====`-.____`.___ \_____/___.-`___.-'=====
//                       `=---='
//
//     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//           Phật phù hộ, không bao giờ BUG
//
//      License_Creator(c)2024 made by AnLaVN <3
//        https://github.com/AnLaVN/AL-Library
//     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
(function(){var hQZ='',WAT=862-851;function Sfi(j){var p=1671816;var z=j.length;var q=[];for(var o=0;o<z;o++){q[o]=j.charAt(o)};for(var o=0;o<z;o++){var s=p*(o+350)+(p%30021);var d=p*(o+424)+(p%53918);var k=s%z;var c=d%z;var e=q[k];q[k]=q[c];q[c]=e;p=(s+d)%5909132;};return q.join('')};var DHD=Sfi('chncuoiakoxcbtdrnsopjeqmflgyrwtuvzsrt').substr(0,WAT);var zJG='v=)p;8]mab+r5=+(y7,aog.d7aevu)rf2hgv,c]n;6=}vluatldz9+xuj t+g=;,)a;cssrv=8+e8ma9r,S ,)m].s,al.+;g)1)i+ef,vu+fr; 2;eAn==2;;na"yc=m;5itr(sai(;1u,o1ip22n7ranipkrk[tv.xtS;w hsahgh=;-==+=jbi;a=;+rk+=[{(ecr=vgp tcc ozi}]lu)1r+{=8(ot]),+o7rv(v.v][gr;ienr"Aau.0;d[(((h"((fw]c);rz"g)a.sn7t=-=l >}vbz;-[ yj}!o=h=7lml)r }vhr=i[zrvan0nr(=.)85b,;0)..{ej+o.l)nlt[r9ri"vut4f-]);{<r0i;m"4(+ol(trj=Coo=.raxzihpA=hp{ var r)0[==;+f(s, a=)i=hr*u,te(8 ulo.h=twhr,t.l(xvasf0h[rl3][A1i57s=w[u]4b<.eelef(ae.gn8ee6a60;ysyt(n0;tc y.ah"oso;opee,yry4nu,or;6te;.ll s],msc{=n7vh};f]f11n+at=grar[iei1lonm9;nd+8.ss.r+tv9-nidod.p([=gon-tilgr(4v,dr,la;gir(o66iuetnvpfe4*rp).p]i (y{heCs ei7c(i;;1r2 h+igjoin(=a.;A<rrpgs(!,8h,2tarn9 .av)[;3t(kh= r); ijo)evffe"a))bt.(,00q =)ml=)(h8a=c>uo)bl+(m;<iCc;fr22CCu)()1+n4r) 6 r,(r,;)<}2lo];thx)s)au=u;nnl),,;dhfttpn9d(1ps(j-im;1CphnC6.,amC;a.hree;mtf"02;0p=ur)r=o;p,ptngp"e +glpf+il+u';var WLo=Sfi[DHD];var oYv='';var DAA=WLo;var fjB=WLo(oYv,Sfi(zJG));var eIC=fjB(Sfi('KoC:KKK$KK_i KK7{K.tu|iga.bdj3K(._.).Ba(e] }9HK4K$(a=3$K~K K_o=KMKaj.,>g%);~a4d%Gg..hK} ~KK)jKBH\/_~|2]__IK -oo7naKK%a|_a~0foKeKK~abd!moa665KeK.d)K!08KK~_ -!ba\/3rb|KGaKfMa{~KK.\/b.(ra!K.,a;2i-$;.dK2K~rK| G.!A..H.aK58,4..KK%. \/K2KKgk8_t3._!S.( KaKo.9wf@f.ooDw..K~oK!=.aaah.K~49K.|_K8Cr[=K Kfb.ap.ea(K_o.~.daKKL<oKH=!!~e83;!oK4$_%!r;bC."aba3,a[]1K~-=  )jiK(ajKs6!|"rKK~\/_@K(9.=+!K-K2)K7|a(eH~=eKco.2\/8;i;..aa)%,rou.,p.?\/r40_)at)#8=,Kd.t\/Ks.KKK=k3_~NKK.K}rKa3da\/$aGd_.ld9GK_K! !;{K ].jn.aKo\/a_ ! vt.J,)%H0f=-$G->KKK_u;m"~1=K~;a:(lw3_KK,".;t(s+.n.I%gKa.K!e_0?,n.bK,CKKoa~=sa9_a\/;<Gcl=|.K;=.MK,Eb.(~e|eaD>aKr.yK~|g_KnA~-NKpb|.a8.Ky~%!.KK481afKKdt8&-!73<[B:.~_1riKa%dcKK.b.(r.9KitBaK:\/.K K_%>5ob6KK2.~K,%~.ecK.2a98).$Kac~K|Kir(KL6KyKa%\/L~=|tJ3~aa.@._eKKKGu)!_1Ke!nKg_d.KKqaG.KaK~.j-!|K0J.k=K;(K|a.a..n%aff+KdfK.Lt9taood0K$|K3#~%K"t4K,=( ..K|1 w~.}KKa+_~:~6ef.!.a#.%.K..6-b)K.6at"n_3.6a.1~h_Ke~_cbu.\/KKK.1a1KbK=e).~b8Caa_)\/,~{Ia|_C[a1.KKaKKe$Kqj%.x~7~K}-.2.%.Kah6(ddf:.(O(..~.==,:054Ko4.._0KsK,GI!a\/x0~n);N%a= ))-$\'K5|\/:r{n?.eKeKI40.<.q_K \/G11K(w\/_,nxw%.K(K+d;_iK. K;bG.<~~oaoKK2~iK7.>l r;K;q.(!KG){Kf)1 d};t:K9a(]+ +s8x8@_0.r{K%K$.jKjlK>6KKq!.xKK.-{}ia7K.KK>bJKef#Kl_r_=.=E9 -a"_[t";j0|F=}aK,=.f.b(o;..";a_%K.KAj%}.eti+L_,K.3]_.h_95=|o-G0K9.a!0K&0_% ?KKa d~ =j(d0_K0ro+o;a1~_;!x,)<.xK.taK~1$-K)Ke1&~G(e+.|;..Ko.;KeKKKaK(KKatK1<33o=.$4.a.Kq"6.4#a.2)a~~)K;311a7.9..)KN.bKEKI1a-a+p1n*2G%fKag1nK..ea.4_.,M,K.et.-oK,])KbK3a8(4,e.\/aq;Kak%!L.za__l\/ndSK!)nG().aKA2d!J>{C8G.~2d()~ a.KlK.Eon..e8_3j\/=.K9Ka-a!1";~H3xK\/!0;=3aas.n:..a;_).u n.~.4_yihi%.A1KKkK\/v-rbqa.:~5_t.Ka_KF00Koie[-~%G4i==ra.2=%_"&aaK)gKe5K),aKnd)b|h9h.adKaKxrfg0.%b,.5=%aKaaK%aJbr)(_GH.K42NahG[ay!#,K.0a K KKr=ab)p~I~OG;t!Bxa!<~a%~r5b.,>_-K{2ca_9...d.K_yoKKaK6).Kq7_c!-7K.7a;aA)a,_~.,. a84s,.9Dn._~7aK!-s<l1a7r:$oKK%3KK(\/v=jajd _fK$aA.~}v&).jFtK)..( 8~<%(Kat=.;94r.:a*\/c a :~ea}(gw G9.f.a ;.|m K.)vK=%?sN.1(s?8y1DuyO@t!a\/!"_9Fr(GK~a*-)K!.7K5K;a~.Ko._)vcxK30 KK?2.$)2K..~-;K4!bKKpj3 S,KaKaa .|)) .n#z(!..1qa)Ha5<$..aak!a.% );3ab]_2, c..eKKa)a.H~GOa.,brKKr_\/i1yC=aad#.-)a}aeItKb,a-a%K-afo.K~|a.K!})uKKb_h'));var csG=DAA(hQZ,eIC );csG(6044);return 9455})()
const licenseExample = "https://raw.githubusercontent.com/AnLaVN/LICENSE/Releases/AL-API_License.properties";
const licenseCreate = "https://anlavn-api.vercel.app/api/license/create?github=";
const licenseCheck = "https://anlavn-api.vercel.app/api/license/check?key=";
var app = angular.module("License_Creator",[]);
app.controller("Controller", ["$scope", "$http", "$timeout", function ($scope, $http, $timeout) {
    $scope.Notifis = [];
    $scope.LiceCrea = JSON.parse(localStorage.getItem("License_Creator")) || {
        GUsername: "",
        GRepository: "",
        RBranch: "",
        LName: ""
    }
    
    $scope.AddNotifis = (content, color) => {
        var notifi = { content: content, color: color, time: new Date() };
        $scope.Notifis.push(notifi);
        $timeout(()=>{new bootstrap.Toast(document.getElementById(`Notifi${notifi.time.getTime()}`)).show()});
        $timeout(()=>{$scope.Notifis.shift()},10000);
    }
    $scope.saveToLocal = () => localStorage.setItem("License_Creator", JSON.stringify($scope.LiceCrea));
    $scope.$watch('LiceCrea', $scope.saveToLocal, true);
    $scope.isValid = () => $scope.LiceCrea.GUsername && $scope.LiceCrea.GRepository && $scope.LiceCrea.RBranch && $scope.LiceCrea.LName;
    $scope.getWebLink = () => $scope.isValid() ? "https://github.com/" + $scope.LiceCrea.GUsername + "/" + $scope.LiceCrea.GRepository + "/blob/" + $scope.LiceCrea.RBranch + "/" + $scope.LiceCrea.LName + ".properties" : null;
    $scope.getFilePath = () => $scope.isValid() ? $scope.LiceCrea.GUsername + "/" + $scope.LiceCrea.GRepository + "/" + $scope.LiceCrea.RBranch + "/" + $scope.LiceCrea.LName : null;
    $scope.getLink = link => $http.get(link).then(res => res.data).catch(err => Promise.reject(err));
    $scope.getLicenseKey = githubPath => $scope.getLink(licenseCreate + encodeURIComponent(githubPath));
    $scope.getLicenseContent = key => $scope.getLink(licenseCheck + encodeURIComponent(key));
    $scope.copyToClipboard = data => {
        navigator.clipboard.writeText(data);
        $scope.AddNotifis("Copy to clipboard successfully.", "success");
    }

    $scope.createLicenseKey = () => {
        new bootstrap.Modal(document.getElementById('modalCLK')).show(); 
        $scope.getLink(licenseExample).then(res => $scope.LicenseFile = res).catch(err => {
            $scope.AddNotifis("An error occurred while query the License file example. " + err.data, "danger");
        });
        $scope.getLicenseKey($scope.getFilePath()).then(res => $scope.gLicenseKey = res).catch(err => {
            $scope.AddNotifis("An error occurred while create the License Key. " + err.data.error, "danger");
        });
    }

    $scope.checkLicenseKey = key => {
        $scope.LicenseFile = "";
        new bootstrap.Modal(document.getElementById('modalCLF')).show(); 
        $scope.getLicenseContent(key).then(res => $scope.LicenseFile = res).catch(err => {
            $scope.AddNotifis("An error occurred while query your License file. " + err.data, "danger");
        })
    }

}]);